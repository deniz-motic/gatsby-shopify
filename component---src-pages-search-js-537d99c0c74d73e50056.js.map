{"version":3,"sources":["webpack:///./src/pages/search.js"],"names":["SearchPage","props","state","document","componentDidMount","this","setState","location","search","substring","split","render","products","data","allShopifyProduct","edges","title","className","toUpperCase","type","placeholder","name","value","onChange","e","target","variant","icon","faSearch","filter","p","node","includes","productType","map","i","style","marginBottom","key","product","Component","query"],"mappings":"+VAWO,IAAMA,EAAb,Y,QACI,WAAYC,GAAQ,IAAD,SACf,cAAMA,IAAN,MACKC,MAAQ,CACTC,SAAU,IAHC,E,EADvB,G,EAAA,G,6EAAA,2BAOIC,kBAAA,WACIC,KAAKC,SAAS,CACVH,SAAUA,SAASI,SAASC,OAAOC,UAAU,GAAGC,MAAM,KAAK,MATvE,EAaIC,OAAA,WAAU,IAAD,SAEUC,EAAaP,KAAKJ,MAAMY,KAAKC,kBAApCC,MAER,OACI,oCACI,kBAAC,IAAD,CAAKC,MAAM,SACX,6BAASC,UAAU,8CACf,yBAAKA,UAAU,aACX,wBAAIA,UAAU,6BAAd,gBAAwDZ,KAAKH,MAAMC,SAASe,cAA5E,QAEJ,yBAAKD,UAAU,yCACX,yBAAKA,UAAU,aACX,yBAAKA,UAAU,SACX,uBAAGA,UAAU,2BACL,yBAAKA,UAAW,8BACZ,kBAAC,MAAD,GAAaE,KAAK,OAAOC,YAAY,SAASH,UAAU,oBAAxD,UAAoF,iBAApF,EAAqGI,KAAK,QAA1G,OAAuH,OAAvH,EAA8HC,MAAOjB,KAAKH,MAAMC,SAAhJ,EAA0JoB,SAAU,SAAAC,GAAC,OAAI,EAAKlB,SAAS,CAAEH,SAAUqB,EAAEC,OAAOH,SAA5M,cAAkO,SAAlO,IACA,yBAAKL,UAAW,sBACZ,kBAAC,IAAD,CAAQS,QAAQ,qBAAoB,kBAAC,IAAD,CAAiBT,UAAU,0BAA0BU,KAAMC,SAG3G,0BAAMX,UAAU,iBACZ,uBAAGA,UAAU,wBAOrC,6BAASA,UAAU,qBACf,yBAAKA,UAAU,mDAEX,yBAAKA,UAAU,aACX,kBAAC,IAAD,CAAMA,UAAU,yBAEXL,EACIiB,QAAO,SAAAC,GAAC,OACLA,EAAEC,KAAKf,MAAME,cAAcc,SAAS,EAAK9B,MAAMC,SAASe,gBACxDY,EAAEC,KAAKE,YAAYf,cAAcc,SAAS,EAAK9B,MAAMC,SAASe,gBAC7DY,EAAEC,KAAKf,MAAME,cAAcc,SAAS,EAAK9B,MAAMC,SAASe,gBACrDY,EAAEC,KAAKE,YAAYf,cAAcc,SAAS,EAAK9B,MAAMC,SAASe,kBAGrEgB,KAAI,SAACJ,EAAGK,GAEL,OACKL,EAGG,yBAAKb,UAAU,cAAcmB,MAAO,CAAEC,aAAc,QAAUC,IAAKH,GAC/D,kBAAC,IAAD,CAAiBI,QAAST,KAH9B,6CAAmB,EAAK5B,MAAMC,SAA9B,cA5DhD,GAAgCqC,aA+EjBxC,YAOR,IAAMyC,EAAK","file":"component---src-pages-search-js-537d99c0c74d73e50056.js","sourcesContent":["import React, { Component } from 'react'\r\nimport SEO from \"../components/seo\"\r\nimport { graphql } from \"gatsby\"\r\nimport ProductGrid from '~/components/ProductGrid'\r\nimport { Grid } from '~/components/ProductGrid/styles'\r\nimport ProductGridItem from '~/components/ProductGridItem'\r\nimport PropTypes from 'prop-types'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faShoppingBag, faUser, faSearch } from '@fortawesome/free-solid-svg-icons'\r\nimport {Form, FormControl, Button} from 'react-bootstrap'\r\n\r\nexport class SearchPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            document: \"\",\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        this.setState({\r\n            document: document.location.search.substring(7).split('=')[0]\r\n        });\r\n    }\r\n\r\n    render() {\r\n\r\n        const { edges: products } = this.props.data.allShopifyProduct\r\n\r\n        return (\r\n            <>\r\n                <SEO title=\"Home\" />\r\n                <section className=\"d-flex flex-column align-items-center pt-5\">\r\n                    <div className=\"hero-body\">\r\n                        <h1 className=\"is-size-5 has-text-medium\">RESULTS FOR \"{this.state.document.toUpperCase()}\" :</h1>\r\n                    </div>\r\n                    <div className=\"d-flex flex-column align-items-center\">\r\n                        <div className=\"container\">\r\n                            <div className=\"field\">\r\n                                <p className=\"control has-icons-right\">\r\n                                        <div className={'input-group input-group-sm'}>\r\n                                            <FormControl type=\"text\" placeholder=\"Search\" className=\"form-control-sm\" className=\"input is-large\" name=\"value\" type=\"text\" value={this.state.document} onChange={e => this.setState({ document: e.target.value })} placeholder=\"Search\" />\r\n                                            <div className={'input-group-append'}>\r\n                                                <Button variant=\"btn-danger btn-sm\"><FontAwesomeIcon className=\"has-text-dark is-size-5\" icon={faSearch} /></Button>\r\n                                            </div>\r\n                                        </div>\r\n                                    <span className=\"icon is-right\">\r\n                                        <i className=\"fas fa-search\"></i>\r\n                                    </span>\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <section className=\"hero is-dark mt-5\">\r\n                    <div className=\"hero-body d-flex flex-column align-items-center\">\r\n\r\n                        <div className=\"container\">\r\n                            <Grid className=\"columns is-multiline \">\r\n\r\n                                {products\r\n                                    .filter(p =>\r\n                                        p.node.title.toUpperCase().includes(this.state.document.toUpperCase()) ||\r\n                                        p.node.productType.toUpperCase().includes(this.state.document.toUpperCase()) ||\r\n                                        (p.node.title.toUpperCase().includes(this.state.document.toUpperCase()) &&\r\n                                            p.node.productType.toUpperCase().includes(this.state.document.toUpperCase()))\r\n\r\n                                    )\r\n                                    .map((p, i) => {\r\n\r\n                                        return (\r\n                                            !p ?\r\n                                                <p>Nothing with : {this.state.document} </p>\r\n                                                :\r\n                                                <div className=\"column is-3\" style={{ marginBottom: \"40px\" }} key={i}>\r\n                                                    <ProductGridItem product={p} />\r\n                                                </div>\r\n                                        )\r\n                                    })}\r\n\r\n\r\n                            </Grid>\r\n\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SearchPage\r\n\r\nSearchPage.propTypes = {\r\n    data: PropTypes.shape({\r\n        allShopifyProduct: PropTypes.object\r\n    }),\r\n}\r\nexport const query = graphql`\r\n    query {\r\n        allShopifyProduct(\r\n            sort: {\r\n                fields: [createdAt]\r\n                order: DESC\r\n            }\r\n        ) {\r\n            edges {\r\n                node {\r\n                    id\r\n                    title\r\n                    handle\r\n                    createdAt(fromNow: true)\r\n                    publishedAt\r\n                    productType\r\n                    vendor\r\n                    priceRange {\r\n                        maxVariantPrice {\r\n                            amount\r\n                        }\r\n                    }\r\n                    images {\r\n                        originalSrc\r\n                        id\r\n                        localFile {\r\n                            childImageSharp {\r\n                                fluid(maxWidth: 910) {\r\n                                    ...GatsbyImageSharpFluid_noBase64\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    variants {\r\n                        id\r\n                        title\r\n                        price\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n`\r\n"],"sourceRoot":""}